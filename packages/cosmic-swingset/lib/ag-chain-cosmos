#! /usr/bin/env node

const path = require('path');
const agcc = require('bindings')('agcosmosdaemon.node');
const esmRequire = require('esm')(module);

esmRequire('./agoric-anylogger');
const anylogger = require('anylogger');
const log = anylogger('ag-chain-cosmos');

const main = esmRequire('./chain-main.js').default;

main(process.argv[1], process.argv.splice(2), {
  path,
  env: process.env,
  agcc,
}).then(
  _res => 0,
  rej => {
    log.error(`error running ag-chain-cosmos:`, rej);
    process.exit(1);
  },
);
